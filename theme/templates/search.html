<div class="container-shell">
  <section class="section-block glass-panel p-6 rounded-3xl space-y-4">
    <h1 class="text-3xl font-semibold font-display">Поиск</h1>
    <form class="search-page-form" action="{{ .BaseURL }}/search" method="get" data-search-page-form>
      <input class="input" type="search" name="q" value="{{ .SearchQuery }}" placeholder="Найти объект..." minlength="2" data-search-page-input />
      <button class="button-primary" type="submit">Найти</button>
    </form>
    <div class="search-page-results" data-search-page-results>
      {{- if .SearchItems }}
      <div class="card-grid card-grid-3">
        {{- range .SearchItems }}
        <a href="{{ $.BaseURL }}{{ .Path }}" class="link">
          <div class="glass-panel card cardHover search-card">
            <div class="content">
              <h3 class="text-xl font-semibold font-display">{{ .Title }}</h3>
              {{- if .Snippet }}<p class="description">{{ .Snippet }}</p>{{- end }}
            </div>
          </div>
        </a>
        {{- end }}
      </div>
      {{- else }}
      <p class="small-note">Введите минимум 2 символа.</p>
      {{- end }}
    </div>
  </section>
</div>
<script>
  (function() {
    if (window.__npSearchPageLoader) return;
    window.__npSearchPageLoader = true;
    var s = document.createElement('script');
    s.src = '{{ .AssetsBase }}/search-page.js';
    s.async = true;
    document.body.appendChild(s);
  })();
</script>
